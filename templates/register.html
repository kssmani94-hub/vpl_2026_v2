{% extends "base.html" %}
{% block content %}
<style>
    /* Registration Page Specific Styles */
    .reg-container {
        max-width: 900px;
        margin: 40px auto;
        background: #ffffff;
        border-radius: 20px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        overflow: hidden;
    }

    .reg-header {
        background: #003554;
        color: white;
        padding: 30px;
        text-align: center;
        border-bottom: 5px solid #00a6fb;
    }

    .deadline-notice {
        background: #fff5f5;
        border-bottom: 2px solid #feb2b2;
        padding: 15px;
        text-align: center;
        color: #c53030;
        font-weight: 800;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .reg-form {
        padding: 40px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    .form-group.full-width {
        grid-column: span 2;
    }

    .reg-form label {
        font-weight: 700;
        margin-bottom: 8px;
        color: #334155;
        font-size: 0.85rem;
    }

    .reg-form input, .reg-form select {
        padding: 12px;
        border: 2px solid #f1f5f9;
        border-radius: 8px;
        font-size: 1rem;
        transition: 0.3s;
        box-sizing: border-box;
        width: 100%;
    }

    .reg-form input:focus {
        border-color: #00a6fb;
        outline: none;
        background: #f8fbff;
    }

    .section-title {
        grid-column: span 2;
        color: #00a6fb;
        border-bottom: 2px solid #f1f5f9;
        padding-bottom: 10px;
        margin: 25px 0 10px;
        font-family: 'Oswald';
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .kit-box {
        grid-column: span 2;
        background: #f8fbff;
        padding: 20px;
        border-radius: 12px;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
    }

    .verify-box {
        grid-column: span 2;
        background: #fff9db;
        padding: 15px;
        border: 1px solid #fab005;
        border-radius: 8px;
        margin-top: 10px;
        display: flex;
        align-items: flex-start;
        gap: 10px;
    }

    .btn-submit {
        grid-column: span 2;
        background: #00a6fb;
        color: white;
        border: none;
        padding: 20px;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 800;
        text-transform: uppercase;
        cursor: pointer;
        transition: 0.3s;
        margin-top: 20px;
        box-shadow: 0 10px 20px rgba(0, 166, 251, 0.3);
    }

    .btn-submit:disabled {
        background: #cbd5e1;
        box-shadow: none;
        cursor: not-allowed;
    }

    /* Mobile screen alignment fixes */
    @media (max-width: 768px) {
        .reg-container { margin: 15px; border-radius: 10px; }
        .reg-form { padding: 20px; grid-template-columns: 1fr; }
        .form-group.full-width { grid-column: span 1; }
        .kit-box { 
            grid-template-columns: 1fr 1fr; 
            grid-column: span 1;
        }
        .section-title { grid-column: span 1; font-size: 1.2rem; }
        .btn-submit, .verify-box { grid-column: span 1; }
        .reg-header h1 { font-size: 1.6rem !important; }
    }
</style>

<div class="reg-container">
    <div class="reg-header">
        <h1 style="font-family: 'Oswald'; margin: 0; text-transform: uppercase;">Register your slot</h1>
        <p style="margin: 5px 0 0; opacity: 0.8; letter-spacing: 1px;">Season 2 | Official Registration</p>
    </div>

    <div class="deadline-notice">
        ⚠️ Registration Closes on 24th January 2026
    </div>

    <form action="{{ url_for('register') }}" method="POST" enctype="multipart/form-data" class="reg-form">
        
        <h3 class="section-title">1. Personal Details</h3>
        
        <div class="form-group full-width">
            <label><i class="fa fa-user"></i> Full Name *</label>
            <input type="text" name="full_name" placeholder="Enter Full Name" required>
        </div>

        <div class="form-group">
            <label><i class="fa fa-calendar"></i> Age *</label>
            <input type="number" name="age" placeholder="Enter your age" required>
        </div>

        <div class="form-group">
            <label><i class="fa fa-phone"></i> Mobile Number *</label>
            <input type="tel" id="primary_phone" name="phone" pattern="[0-9]{10}" placeholder="Mobile No" required oninput="syncCricNumber()">
        </div>

        <div class="form-group full-width">
            <label><i class="fa fa-medal"></i> Level of Cricket *</label>
            <select name="level" required>
                <option value="" disabled selected>Select Level</option>
                <option value="Club Level">Club Level</option>
                <option value="District/State Level">District/State Level</option>
            </select>
        </div>

        <h3 class="section-title">2. CricHeroes Profile</h3>

        <div class="form-group">
            <label><i class="fa fa-question-circle"></i> Same as Primary No?</label>
            <div style="padding:10px 0;">
                <input type="radio" name="ch_reg" value="Yes" id="ch_yes" onclick="toggleCricNumber()" style="width:auto;"> Yes
                <input type="radio" name="ch_reg" value="No" id="ch_no" onclick="toggleCricNumber()" style="width:auto; margin-left:20px;" checked> No
            </div>
        </div>

        <div class="form-group">
            <label><i class="fa fa-mobile-screen"></i> CricHeroes No. *</label>
            <input type="tel" name="ch_mobile" id="ch_mobile_field" pattern="[0-9]{10}" placeholder="App Mobile No" required>
        </div>

        <div class="form-group full-width">
            <label><i class="fa fa-id-badge"></i> Name on CricHeroes *</label>
            <input type="text" name="ch_name" placeholder="Profile name on app" required>
        </div>

        <h3 class="section-title">3. Cricketing Details & Kit</h3>

        <div class="form-group">
            <label><i class="fa fa-users"></i> Regular Team *</label>
            <input type="text" name="current_team" required>
        </div>

        <div class="form-group">
            <label><i class="fa fa-history"></i> Prev VPL Team</label>
            <input type="text" name="prev_team" placeholder="Optional">
        </div>

        <div class="form-group">
            <label><i class="fa fa-trophy"></i> Role *</label>
            <select name="role" required>
                <option value="" disabled selected>Select Role</option>
                <option>Batsman</option>
                <option>Bowler</option>
                <option>All-Rounder</option>
                <option>Wicket-Keeper</option>
            </select>
        </div>

        <div class="form-group">
            <label><i class="fa fa-baseball-bat-ball"></i> Style</label>
            <input type="text" name="style" placeholder="e.g. RHB / Fast">
        </div>

        <div class="form-group full-width">
            <label><i class="fa fa-camera"></i> Profile Photo *</label>
            <input type="file" name="photo" required accept="image/*">
            <small style="margin-top:5px; color:#64748b;">Required for player broadcast.</small>
        </div>

        <div class="kit-box">
            <div style="grid-column: span 4; font-weight: 800; font-size: 0.7rem; color: #003554; text-transform: uppercase;">Jersey Customization</div>
            <div class="form-group">
                <label style="font-size:0.75rem;">Jersey Name *</label>
                <input type="text" name="shirt_name" required style="padding:8px;">
            </div>
            <div class="form-group">
                <label style="font-size:0.75rem;">Jersey No. *</label>
                <input type="number" name="shirt_number" required style="padding:8px;">
            </div>
            <div class="form-group">
                <label style="font-size:0.75rem;">Size *</label>
                <select name="shirt_size" style="padding:8px;" required>
                    <option>S-36</option><option>M-38</option><option>L-40</option><option>XL-42</option><option>XXL-44</option>
                </select>
            </div>
            <div class="form-group">
                <label style="font-size:0.75rem;">Sleeves *</label>
                <div style="font-size: 0.7rem; margin-top: 5px;">
                    <input type="radio" name="sleeves" value="Half" checked> Half
                    <input type="radio" name="sleeves" value="Full"> Full <span style="color: #27ae60; font-weight: bold;">(+₹50)</span>
                </div>
            </div>
        </div>

        <div class="verify-box">
            <input type="checkbox" name="verify_details" id="verifyCheck" onchange="toggleSubmitButton()" required style="width: 20px; height: 20px;">
            <label for="verifyCheck" style="margin-bottom: 0; color: #856404; font-weight: 600;">I verify that all details are correct and cannot be edited later. *</label>
        </div>

        <button type="submit" id="submitBtn" class="btn-submit" disabled>Submit Details <i class="fa fa-check-circle" style="margin-left:10px;"></i></button>
    </form>
</div>

<script>
    function toggleSubmitButton() {
        var checkbox = document.getElementById("verifyCheck");
        var btn = document.getElementById("submitBtn");
        btn.disabled = !checkbox.checked;
    }

    function toggleCricNumber() {
        var yesRadio = document.getElementById("ch_yes");
        var primaryPhone = document.getElementById("primary_phone");
        var mobileField = document.getElementById("ch_mobile_field");
        if (yesRadio.checked) {
            mobileField.value = primaryPhone.value;
            mobileField.readOnly = true;
            mobileField.style.background = "#f1f5f9";
        } else {
            mobileField.value = "";
            mobileField.readOnly = false;
            mobileField.style.background = "#ffffff";
        }
    }

    function syncCricNumber() {
        var yesRadio = document.getElementById("ch_yes");
        var primaryPhone = document.getElementById("primary_phone");
        var mobileField = document.getElementById("ch_mobile_field");
        if (yesRadio.checked) { mobileField.value = primaryPhone.value; }
    }
</script>
{% endblock %}